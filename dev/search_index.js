var documenterSearchIndex = {"docs":
[{"location":"ESG_Scoring/scoring_system/#ESG-Scoring","page":"Scoring System","title":"ESG Scoring","text":"","category":"section"},{"location":"ESG_Scoring/scoring_system/","page":"Scoring System","title":"Scoring System","text":"Most of ESG scoring systems are based on scoring trees. \nRaw data are normalised in order to obtain features X_1X_m\nFeatures X_1X_m are aggregated to obtain sub-scores s_1s_n:","category":"page"},{"location":"ESG_Scoring/scoring_system/","page":"Scoring System","title":"Scoring System","text":"s_i = sum_j=1^m omega_ij^(1)X_j","category":"page"},{"location":"ESG_Scoring/scoring_system/","page":"Scoring System","title":"Scoring System","text":"Sub-scores s_1s_n are aggregated to obtain the final score s:","category":"page"},{"location":"ESG_Scoring/scoring_system/","page":"Scoring System","title":"Scoring System","text":"s_i = sum_i=1^n omega_i^(2)s_i","category":"page"},{"location":"ESG_Scoring/scoring_system/","page":"Scoring System","title":"Scoring System","text":"This two-level structure can be extended to multi-level tree structures.","category":"page"},{"location":"ESG_Scoring/scoring_system/","page":"Scoring System","title":"Scoring System","text":"Let's implement the first stage of our scoring system.","category":"page"},{"location":"ESG_Scoring/scoring_system/","page":"Scoring System","title":"Scoring System","text":"First, we create a struct Variable, with two examples variables:","category":"page"},{"location":"ESG_Scoring/scoring_system/","page":"Scoring System","title":"Scoring System","text":"Base.@kwdef mutable struct Variable\n    X::Vector{Float64}\n    name::String \nend\n\nX₁ = Variable(X = [94.0, 38.6, 30.6, 74.4, 97.1, 57.1, 132.4, 92.5, 64.9], name = \"X₁\") \n\nX₂ = Variable(X = [-0.03, -0.0550, 0.056, -0.013, -0.168, -0.035, 0.0850, -0.0910, -0.0460], name = \"X₂\")","category":"page"},{"location":"ESG_Scoring/scoring_system/","page":"Scoring System","title":"Scoring System","text":"However, how can we aggregate X_1 and X_2 to create a synthetic score? We need to normalize the features X_1  X_n!","category":"page"},{"location":"ESG_Scoring/scoring_system/#Normalizing-Scores","page":"Scoring System","title":"Normalizing Scores","text":"","category":"section"},{"location":"ESG_Scoring/scoring_system/","page":"Scoring System","title":"Scoring System","text":"Once raw data have been normalized in order to facilitate the comparison (ie. absolute carbon emissions amount transformed to carbon intensity for example), resulting features X_1  X_m need to be normalized to facilitate the aggregation process.","category":"page"},{"location":"ESG_Scoring/scoring_system/","page":"Scoring System","title":"Scoring System","text":"Several normalization approches exist:","category":"page"},{"location":"ESG_Scoring/scoring_system/","page":"Scoring System","title":"Scoring System","text":"q-score normalization:\n0-1 normalization: q_i in 01\n0-10 normalization: q_i in 010\n0-100 normalization: q_i in 0100","category":"page"},{"location":"ESG_Scoring/scoring_system/","page":"Scoring System","title":"Scoring System","text":"q_i = hat F(x_i)","category":"page"},{"location":"ESG_Scoring/scoring_system/","page":"Scoring System","title":"Scoring System","text":"Where hat F is the empirical probability distribution.","category":"page"},{"location":"ESG_Scoring/scoring_system/","page":"Scoring System","title":"Scoring System","text":"z-score normalization:","category":"page"},{"location":"ESG_Scoring/scoring_system/","page":"Scoring System","title":"Scoring System","text":"z_i = fracx_i - hatmu(X)hatsigma(X)","category":"page"},{"location":"ESG_Scoring/scoring_system/#q-score","page":"Scoring System","title":"q-score","text":"","category":"section"},{"location":"ESG_Scoring/scoring_system/","page":"Scoring System","title":"Scoring System","text":"Let x_1  x_n be the sample. We have:","category":"page"},{"location":"ESG_Scoring/scoring_system/","page":"Scoring System","title":"Scoring System","text":"q_i = hatF(x_i) = Pr(X leq x_i) = frac(x_j leq x_i)n_q","category":"page"},{"location":"ESG_Scoring/scoring_system/","page":"Scoring System","title":"Scoring System","text":"We can use two normalization factors:","category":"page"},{"location":"ESG_Scoring/scoring_system/","page":"Scoring System","title":"Scoring System","text":"n_q = n\nn_q = n + 1","category":"page"},{"location":"ESG_Scoring/scoring_system/","page":"Scoring System","title":"Scoring System","text":"Let's implement this in Julia:","category":"page"},{"location":"ESG_Scoring/scoring_system/","page":"Scoring System","title":"Scoring System","text":"function q_score!(X::Variable; scale = 100)::Variable \n    # the number of observations\n    n = length(X.X)\n    # we normalize the number of observations less or equal to each observation by n + 1 (the second normalization factor)\n    q = [length(filter(x -> x <= i, X.X))/(n+1) for i in X.X] .* scale\n    X.X = q\n    return X\nend\n\nq_score!(X₁)\nq_score!(X₂)","category":"page"},{"location":"ESG_Scoring/scoring_system/","page":"Scoring System","title":"Scoring System","text":"The outputs will be:","category":"page"},{"location":"ESG_Scoring/scoring_system/","page":"Scoring System","title":"Scoring System","text":"Variable([70.0, 20.0, 10.0, 50.0, 80.0, 30.0, 90.0, 60.0, 40.0], \"X₁\")\nVariable([60.0, 30.0, 80.0, 70.0, 10.0, 50.0, 90.0, 20.0, 40.0], \"X₂\")","category":"page"},{"location":"ESG_Scoring/scoring_system/#z-score","page":"Scoring System","title":"z-score","text":"","category":"section"},{"location":"ESG_Scoring/scoring_system/","page":"Scoring System","title":"Scoring System","text":"Another normalization method can be the z-score:","category":"page"},{"location":"ESG_Scoring/scoring_system/","page":"Scoring System","title":"Scoring System","text":"using Statistics # to load the mean and std functions\n\nfunction z_score!(X::Variable)::Variable\n    μ = mean(X.X)\n    σ = std(X.X)\n    z = [(i - μ) / σ for i in X.X]\n    X.X = z\n    return X\nend\n\nX₁ = Variable(X = [94.0, 38.6, 30.6, 74.4, 97.1, 57.1, 132.4, 92.5, 64.9], name = \"X₁\") \nX₂ = Variable(X = [-0.03, -0.0550, 0.056, -0.013, -0.168, -0.035, 0.0850, -0.0910, -0.0460], name = \"X₂\")\n\nz_score!(X₁)\nz_score!(X₂)","category":"page"},{"location":"ESG_Scoring/scoring_system/","page":"Scoring System","title":"Scoring System","text":"The outputs will be:","category":"page"},{"location":"ESG_Scoring/scoring_system/","page":"Scoring System","title":"Scoring System","text":"Variable([0.5717875741990099, -1.1623564920760896, -1.4127744077836852, -0.04173631928459912, 0.6688245165357031, -0.5832650620022748, 1.7737935695954692, 0.5248342150038358, -0.3391075941873689], \"X₁\")\nVariable([0.04022409138923949, -0.294976670187756, 1.1933147112141038, 0.2681606092615964, -1.8100841125157756, -0.02681606092615966, 1.5821475946434187, -0.7776657668586294, -0.1743043960200376], \"X₂\")","category":"page"},{"location":"ESG_Scoring/scoring_system/","page":"Scoring System","title":"Scoring System","text":"### From z-score to q-score","category":"page"},{"location":"ESG_Scoring/scoring_system/#Scoring-Trees","page":"Scoring System","title":"Scoring Trees","text":"","category":"section"},{"location":"ESG_Scoring/scoring_system/","page":"Scoring System","title":"Scoring System","text":"Let's illustrate this with a two-level tree structure. Let's assume that at level 2:","category":"page"},{"location":"ESG_Scoring/scoring_system/","page":"Scoring System","title":"Scoring System","text":"omega_1^(2) = omega_2^(2) = omega_3^(2) = 3333","category":"page"},{"location":"#Julia-for-Sustainable-Finance","page":"Home","title":"Julia for Sustainable Finance","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"The objective of this website is to explain how to program various models in Julia. Examples and structure are based on Thierry Roncalli's lecture.","category":"page"}]
}
